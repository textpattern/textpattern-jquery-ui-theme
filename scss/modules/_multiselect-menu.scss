/* Multi-select menu
   ========================================================================== */

/**
 * jQuery UI MultiSelect Widget (a jQuery UI plugin)
 *
 * Some classes and HTML elements generally added via JavaScript, more info -
 * https://github.com/ehynds/jquery-ui-multiselect-widget
 *
 * 1. Workaround for IE 11 and Edge incorrectly displaying a list marker.
 *
 * Example HTML:
 *
 * <button class="ui-multiselect">
 *     <span class="ui-icon ui-icon-triangle-1-s"></span>
 *     <span>Search options</span>
 * </button>
 * <div class="ui-multiselect-menu ui-widget ui-widget-content">
 *     <div class="ui-widget-header ui-corner-all ui-multiselect-header ui-helper-clearfix">
 *         <ul class="ui-helper-reset">
 *             <li>
 *                 <a class="ui-multiselect-all"><span class="ui-icon ui-icon-check"></span><span>Search all</span></a>
 *             </li>
 *             <li class="ui-multiselect-close">
 *                 <a class="ui-multiselect-close"><span class="ui-icon ui-icon-circle-close"></span></a>
 *             </li>
 *         </ul>
 *     </div>
 *     <ul class="ui-multiselect-checkboxes ui-helper-reset">
 *         <li>
 *             <label class="ui-state-hover">
 *                 <input type="checkbox">
 *                 <span>Search all</span>
 *             </label>
 *         </li>
 *         <li>
 *             <label>
 *                 <input type="checkbox">
 *                 <span>Option 1</span>
 *             </label>
 *         </li>
 *         <li>
 *             <label>
 *                 <input type="checkbox">
 *                 <span>Option 2</span>
 *             </label>
 *         </li>
 *     </ul>
 * </div>
 */

.ui-multiselect {
    display: inline-flex;
    position: relative;

    .ui-icon {
        flex: none;
        order: 2;
    }
}

.ui-multiselect:not(.no-ui-button) {
    white-space: nowrap;

    &.ui-state-active {
        border-color: $color-link-focus;
        outline: 2px solid transparent; // Allows for repainting in high contrast modes.
    }
}

.txp-split-buttons .ui-multiselect:not(.no-ui-button) {
    width: 2.1538462em !important; // 28px / 13px `!important` overrides inline `style` attribute content.
    text-indent: -9999px;

    .ui-icon {
        position: absolute;
        top: 50%;
        left: 50%;
        margin-top: -8px;
        margin-left: -8px;
    }
}

.ui-multiselect.no-ui-button {
    width: auto !important; // `!important` overrides inline `style` attribute content.
}

.ui-multiselect-header {
    padding: 0.30769230769231em; // 4px / 13px
    font-weight: normal;

    .ui-icon {
        margin: 0 0.230769230769231em; // 3px / 13px
    }
}

.ui-multiselect-close {
    display: none;
}

.ui-multiselect-menu {
    display: none;
    position: absolute;
    width: 18em !important; // 234px / 13px `!important` overrides inline `style` attribute content.
    @if $flat-theme < 1 {
        border-color: $color-border-light;
    }
    outline: 0;
    @if $flat-theme < 1 {
        box-shadow: $standard-shadow;
    }
    z-index: 100;

    ul {
        list-style: none;
    }

    li {
        display: block;
        margin: 0;
        cursor: pointer;
        /* 1 */
        list-style-image: url("data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7");
    }

    label {
        display: block;
        position: relative;
        padding: 0.30769230769231em 1em 0.30769230769231em 2em; // 4px / 13px + 13px + 4px / 13px + 26px
        cursor: pointer;

        &.ui-state-hover {
            background-color: $color-selected;
        }
    }

    input {
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0.615384615384615em; // 8px / 13px
        margin: auto 0;
    }
}

/**
 * MultiSelect Widget RTL support.
 */

[dir="rtl"] .ui-multiselect-menu {
    label {
        padding: 0.30769230769231em 2em 0.30769230769231em 1em; // 4px / 13px + 26px + 4px / 13px + 13px
    }

    input {
        right: 0.615384615384615em; // 8px / 13px
        left: auto;
    }
}

[dir="rtl"] .ui-multiselect-checkboxes {
    padding: 0;
}
