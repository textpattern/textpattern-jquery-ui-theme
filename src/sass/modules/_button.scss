/* Button
   ========================================================================== */

/**
 * jQuery UI Button.
 *
 * Some classes and HTML elements generally added via JavaScript, more info -
 * https://jqueryui.com/button/
 *
 * 1. Correct font size not being inherited in all browsers.
 * 2. Improve usability and consistency of cursor style between image-type
 *    `input` and others.
 * 3. The `overflow` property removes extra width in IE.
 * 4. Remove iOS Safari default styling.
 *
 * Example HTML:
 *
 * <a class="ui-button ui-button-text-only">
 *     <span class="ui-button-text">Button</span>
 * </a>
 */

.ui-button {
    @include gradient-linear($color-button-gradient-from, $color-button-gradient-to);

    display: inline-block;
    position: relative;
    height: 2.1538462em; // 28px / 13px
    margin: 0 0.1em 0 0;
    padding: 0.30769230769231em 0.61538461538462em; // 4px / 13px + 8px / 13px
    border: 1px solid $color-button-border;
    background-clip: padding-box;
    color: $color-text-button;
    font-family: $font-form;
    /* 1 */
    font-size: $base-font-size;
    line-height: 1.3846154em; // 18px / 13px
    text-align: center;
    @if $flat-theme < 1 {
        text-shadow: $text-shadow-light;
        box-shadow: $inset-highlighting;
    }
    /* 2 */
    cursor: pointer;
    /* 3 */
    overflow: visible;
    vertical-align: baseline;
    box-sizing: border-box;
    /* 4 */
    appearance: none;
    user-select: none;

    &:hover {
        @include gradient-linear(lighten($color-button-gradient-from, 4%), lighten($color-button-gradient-to, 4%));

        border-color: darken($color-button-border, 13%);
        color: $color-text-button-hover;
        text-decoration: none;
    }

    &:active {
        @include gradient-linear(darken($color-button-gradient-from, 3%), darken($color-button-gradient-to, 3%));

        border-color: darken($color-button-border, 13%);
        color: $color-text-button-active;
        text-decoration: none;
        @if $flat-theme < 1 {
            box-shadow: $inset-lowlighting;
        }
    }

    &:focus {
        border-color: $color-link-focus;
        outline-width: 0;
        @if $flat-theme < 1 {
            box-shadow: $inset-highlighting;
        }
    }
}

/**
 * Focus styling for buttons.
 *
 * 1. `!important` required to override specificity.
 */

.ui-button.ui-state-focus {
    /* 1 */
    border-color: $color-link-focus !important;
    @if $flat-theme < 1 {
        box-shadow: $inset-highlighting;
    }
}

/**
 * Single-icon-only button.
 *
 * To make room for the icon, a width needs to be set here.
 *
 * Example HTML:
 *
 * <a class="ui-button ui-button-icon-only">
 *     <span class="ui-button-icon-primary ui-icon ui-icon-locked"></span>
 *     <span class="ui-button-text">Button one icon, no text</span>
 * </a>
 */

.ui-button-icon-only {
    width: 2.1538462em; // 28px / 13px
    text-indent: -9999px;
    white-space: nowrap;
    box-sizing: border-box;
}

/**
 * No icon support for input elements.
 */

input.ui-button.ui-button-icon-only {
    text-indent: 0;
}

@if $border-radius > 0 {

    .ui-button.ui-corner-all {
        border-radius: $border-radius;
    }

    .ui-button.ui-corner-right {
        border-radius: 0 $border-radius $border-radius 0;

        [dir="rtl"] & {
            border-radius: $border-radius 0 0 $border-radius;
        }
    }

    .ui-button.ui-corner-left {
        border-radius: $border-radius 0 0 $border-radius;

        [dir="rtl"] & {
            border-radius: 0 $border-radius $border-radius 0;
        }
    }

}

/**
 * Button icon element(s).
 */

.ui-button-icon-only .ui-icon {
    position: absolute;
    top: 50%;
    left: 50%;
    margin-top: -8px;
    margin-left: -8px;
}

.ui-button.ui-icon-notext .ui-icon {
    padding: 0;
    text-indent: -9999px;
    white-space: nowrap;
}

input.ui-button.ui-icon-notext .ui-icon {
    padding: 0.4em 1em;
    text-indent: 0;
    white-space: normal;
}
